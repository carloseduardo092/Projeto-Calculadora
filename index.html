<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
    <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body>
    <!--
        [ AC ] [ ( ]  [ ) ]  [ % ]  [ âˆš ]  
        [ 7 ]  [ 8 ]  [ 9 ]  [ Ã· ]  [ xÂ² ]  
        [ 4 ]  [ 5 ]  [ 6 ]  [ Ã— ]  [ xÊ¸ ]  
        [ 1 ]  [ 2 ]  [ 3 ]  [ - ]  [ Â²âˆšx ]  
        [ Â± ]  [ 0 ]  [ . ]  [ + ]  [ = ]

        Aqui esta um mini map oq seria essa calculadora simples.

        Auto: Apolonio Guilherme Lima da Silva
        GitHub: https://github.com/Apolo0013

        Dev Responsavel pelo designe.
    -->
    <main>
        <div class="Base">
            <button class="Tema">ðŸŽ¨</button>
            <div class="Display">
                <p id="Digita"></p>
                <input type="text" class="num" id="input" autocomplete="off">
            </div>
            <div class="Botoes">
                <!--Primeira linha-->
                <div class="l1">
                    <button class="op" id="btnLimpar">AC</button>
                    <button class="op">(</button>
                    <button class="op">)</button>
                    <button class="op">%</button>
                    <button class="op">âˆš</button>
                </div>
                <!--Segunda coluna-->
                <div class="l2">
                    <button class="num" id="btn7">7</button>
                    <button class="num" id="btn8">8</button>
                    <button class="num" id="btn9">9</button>
                    <button class="op" id="btnDivisao">Ã·    </button>
                    <button class="op">xÂ²</button>
                </div>
                <div class="l3">
                    <button class="num" id="btn4">4</button>
                    <button class="num" id="btn5">5</button>
                    <button class="num" id="btn6">6</button>
                    <button class="op" id="btnMultiplicacao">x</button>
                    <button class="op">xÊ¸</button>
                </div>
                <div class="l4">
                    <button class="num" id="btn1">1</button>
                    <button class="num" id="btn2">2</button>
                    <button class="num" id="btn3">3</button>
                    <button class="op" id="btnSubtrair">-</button>
                    <button class="op">Â²âˆšx</button>
                </div>
                <div class="l5">
                    <button class="op BtnBack"><img src="Imagens/back.png" alt="back" class="ImgBack"></button>
                    <button class="num" id="btn0">0</button>
                    <button class="op">,</button>
                    <button class="op" id="btnAdicao">+</button>
                    <button class="op" id="btnIgual">=</button>
                </div>
            </div>
        </div>
    </main>
    <script>
        function TrocarTema() {
        const temas = {
            claro: {
                    "--cor-display": "#FDE990",
                    "--cor-fundo": "#FFE17B",
                    "--cor-fundo-calculadora": "#FFFAF0",
                    "--cor-botao": "#FF9A76",
                    "--cor-botao-operacao": "#FF3F34",
                    "--cor-texto": "#333333",
                    "--cor-digita": "black",
                    "--cor-texto-calculo": "black",
                    "--cor-pisca": "#FF9A76" // Cor que pisca no tema claro
                },
                escuro: {
                    "--cor-display": "#2C2C2C",
                    "--cor-fundo": "#1E1E1E",
                    "--cor-fundo-calculadora": "#292929",
                    "--cor-botao": "#444444",
                    "--cor-botao-operacao": "#E76F51",
                    "--cor-texto": "#F5F5F5",
                    "--cor-digita": "white",
                    "--cor-texto-calculo": "white",
                    "--cor-pisca": "#9A7B6B" // Cor que pisca no tema escuro
                }
            }
            if (troca) {
                for (let va of Object.entries(temas.claro)) {  
                    document.documentElement.style.setProperty(va[0], va[1])
                }
                troca = false
            }
            else {
                for (let va of Object.entries(temas.escuro)) {
                    document.documentElement.style.setProperty(va[0], va[1])
                }
                troca = true
            }
            
        }


        const input = window.document.querySelector('#input')
        const text = window.document.querySelector('#Digita')
        const Troca = window.document.querySelector('.Tema')
        //Variavel de troca
        let troca = true
        TrocarTema()
        Troca.addEventListener('click', () => {
            TrocarTema()
        })

        let Stop = false
        let Pontinhos = ['.','..','...']
        input.addEventListener('focus', function () {
            let index = 0
            let somar = false
            let loop = setInterval(() => {
                //Vai subtrair ou somar?
                if (index == 0) {
                    somar = true
                }
                else if (index == 2) {
                    somar = false
                }

                text.innerText = `Digitando${Pontinhos[index]}`

                if (somar) {
                    index ++ 
                } 
                else {
                    index --
                }
                if (Stop) {
                    Stop = false
                    text.innerText = ''
                    clearInterval(loop)
                }
            }, 500);
        })

        input.addEventListener('blur' , function () {
            Stop = true
            text.innerText = ''
        })
    </script>
    <script src="./assets/js/script.js"></script>
</body>
</html>